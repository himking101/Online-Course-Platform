<button
  data-popover-target="popover-user-profile"
  type="button"
  [class]="
    className
      ? className
      : 'text-white bg-accent hover:bg-accent focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center'
  "
>
  {{ buttonLabel }}
</button>

<div
  data-popover
  id="popover-user-profile"
  role="tooltip"
  class="fixed !z-[99999] invisible inline-block w-64 text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0"
>
  <div class="p-3 z-[999]">
    <div class="flex items-center justify-between mb-2 !z-[999]">
      <img
        class="w-10 h-10 rounded-full"
        [src]="user?.user?.avatarUrl"
        [alt]="user?.user?.userName || 'user profile image'"
      />
      <div>
        @if((user$ | async)?.userId! == user?.user?.userId){
        <a
          (click)="logout()"
          class="block text-white bg-red-400 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
          >Logout</a
        >
        }
      </div>
    </div>
    <h4 class="text-base font-semibold leading-none text-gray-900">
      {{user?.user?.userName}}
    </h4>
    <p class="mb-3 text-sm font-normal">
      <a href="mailto:{{user?.user?.userEmail}}" class="hover:!underline"
        >&#64;{{user?.user?.userEmail}}</a
      >
    </p>
    <p class="mb-4 text-sm">
      {{user?.user?.bio || 'No bio provided'}}
      <a routerLink="/" class="text-gray-600 hover:underline">learnal.com</a>.
    </p>
    <ul class="flex text-sm">
      <li class="me-2">
        <a href="#" class="hover:underline">
          <span class="font-semibold text-gray-900"
            >{{user?.courses?.length}}</span
          >
          <span>Enrolled</span>
        </a>
      </li>
      <li>
        <a href="#" class="hover:underline">
          <span class="font-semibold text-gray-900"
            >{{user?.courses?.length}}</span
          >
          <span>Courses</span>
        </a>
      </li>
    </ul>
  </div>
  <div data-popper-arrow></div>
</div>
